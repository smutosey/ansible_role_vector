---
dependency:
  name: galaxy
  options:
    requirements-file: requirements.yml
driver:
  name: docker
lint: |
  yamllint .
  ansible-lint .
platforms:
  - name: ubuntu
    groups:
      - vectors
    image: pycontribs/ubuntu:latest
    dockerfile: ./Dockerfile.j2
    privileged: true
    cgroupns_mode: host
    volumes:
      - /sys/fs/cgroup:/sys/fs/cgroup:rw
    command: /sbin/init

#   - name: centos_8
#     image: centos:8
#     privileged: false
#     capabilities:
#       - SYS_ADMIN
#     tmpfs:
#       - /tmp
#       - /run
#       - /run/lock
#     volumes:
#       - '/sys/fs/cgroup:/sys/fs/cgroup:ro'
#     command: '/lib/systemd/systemd'
#
#   - name: centos_7
#     image: centos:7
#     privileged: false
#     capabilities:
#       - SYS_ADMIN
#     tmpfs:
#       - /tmp
#       - /run
#       - /run/lock
#     volumes:
#       - '/sys/fs/cgroup:/sys/fs/cgroup:ro'
#     command: '/lib/systemd/systemd'
provisioner:
  name: ansible
verifier:
  name: ansible